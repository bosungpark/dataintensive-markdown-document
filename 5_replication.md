확장성(Scalability)
=
시스템이 특정한 요구사항을(요구 처리량의 변화와 같은) 충족하기 위해 애플리케이션의 상당 부분을 변경하지 않고도 하드웨어 수준의 변경(추가/감소, 업그레이드/다운그레이드) 등을 통해 시스템을 확장 또는 축소할 수 있는 능력 또는 그 정도를 의미

가용성(Availability)
=
서버, 네트워크와 같은 시스템이 정상적으로 사용가능한 정도

내결함성/고가용성
=
장비 하나가 죽더라도 다른 장비가 존재하면 애플리케이션이 계속해서 동작할 수 있는 것.

수직 확장(scale up)
=
더 강력한 장비를 사용하는 것
- 공유 메모리 아키텍처
- 공유 디스크 아키텍처

수평 확장(scale out) 
=
노드 등의 갯수를 늘리는 것

복제
=
복제란 네트워크로 연결된 여러 장비에 동일한 데이터의 복사본을 유지하는 것

지연시간, 내결함성, 고가용성 달성, 읽기 처리량 향상 및 서비스 안정화

복제에서 오는 어려움은 복제된 데이터의 변경 처리와 관련이 있다.

리더와 팔로워 
=
리더 기반 복제(leader-based replication)
=
RDBMS, NoSQL, 메시지 브로커 등에 사용

리더(leader): 클라이언트의 쓰기, 읽기 요청을 우선적으로 처리하고, 팔로워에게 전달.

팔로워(follower): 리더가 보낸 데이터 변경 로그, 변경 스트림을 전달 받아 데이터 복제본을 갱신, 클라이언트의 읽기 요청 만을 처리

동기식 대 비동기식 복제 
=

동기식 복제: 리더가 팔로워의 쓰기 수신에 대한 응답을 확인하기 위해 대기한다. 확인이 끝나면 사용자에게 성공을 보고 후 해당 쓰기를 보여준다. 리더와 팔로워의 일관성(최신 데이터)을 보장한다. 똥차 효과가 있다.

비동기식 복제: 리더가 팔로워의 쓰기 수신에 대한 응답을 기다리지 않는다. 일관성은 떨어지지만, 사용자 응답 지연 시간이 적고 고가용성 제공

반동기식(semi-synchronous): 팔로워 하나는 동기식, 나머지는 비동기 식으로 구성하는 것을 의미

복제 로그 구현
=
구문(Statement) 기반 복제, 쓰기 전 로그(WAL, write-ahead log) 배송, 논리적(로우 기반) 로그 복제, 트리거 기반 복제 등의 방법

최종적 일관성 (Eventual Consistency)
=
일시적으로는 데이터의 일관성이 깨지는 것을 허용. 언젠가 되겠지 생각하고 넘어가기.

복제 지연으로 인한 문제를 해결하기위한 테크닉
=
자신이 쓴 내용 읽기, monotonic read, 일관된 순서로 읽기, 트랜잭션 등의 테크닉.

다중 리더 복제 
=
리더가 여럿인 아키텍쳐


다중 리더 복제 토폴로지
=
원형 토폴로지, 별 모양 토폴로지, 전체 연결 토폴로지 등의 테크닉

리더 없는 복제
=
일부 데이터 저장소 시스템은 리더의 개념을 버리고 모든 복제 서버가 클라이언트로부터 쓰기를 직접 하는 방식을 사용하기도 함, 다이나모 스타일

정족수
=
유효한 읽기와 쓰기를 위한 복제서버 수, 쓰기 성공 노드 수, 질의 노드 수를 나타냄. 그러나 모든 과정이 올바르게 동작해도 시점 문제로 오래된 값을 반환할 수 있음 (느슨한 정족수 사용). 즉, 정족수를 아무리 잘 설정해도 오래된 값을 읽을 가능성이 있음.




